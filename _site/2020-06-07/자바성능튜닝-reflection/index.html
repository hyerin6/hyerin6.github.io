<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>클래스와 메서드의 정보를 확인할 수 있는 API</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" type="text/css">

  <!-- Font -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Hyerin Blog" href="/feed.xml" />
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>클래스와 메서드의 정보를 확인할 수 있는 API | Hyerin Blog</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="클래스와 메서드의 정보를 확인할 수 있는 API" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="자바 성능 튜닝 이야기 story 7" />
<meta property="og:description" content="자바 성능 튜닝 이야기 story 7" />
<link rel="canonical" href="http://localhost:4000/2020-06-07/%EC%9E%90%EB%B0%94%EC%84%B1%EB%8A%A5%ED%8A%9C%EB%8B%9D-reflection/" />
<meta property="og:url" content="http://localhost:4000/2020-06-07/%EC%9E%90%EB%B0%94%EC%84%B1%EB%8A%A5%ED%8A%9C%EB%8B%9D-reflection/" />
<meta property="og:site_name" content="Hyerin Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-07T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="클래스와 메서드의 정보를 확인할 수 있는 API" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2020-06-07/%EC%9E%90%EB%B0%94%EC%84%B1%EB%8A%A5%ED%8A%9C%EB%8B%9D-reflection/","headline":"클래스와 메서드의 정보를 확인할 수 있는 API","dateModified":"2020-06-07T00:00:00+09:00","datePublished":"2020-06-07T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020-06-07/%EC%9E%90%EB%B0%94%EC%84%B1%EB%8A%A5%ED%8A%9C%EB%8B%9D-reflection/"},"@type":"BlogPosting","description":"자바 성능 튜닝 이야기 story 7","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8RJ9ZZ1LSQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8RJ9ZZ1LSQ', { 'anonymize_ip': false});
</script>


</head>

<body>
  <div class="content-container">
    <header>
  <div class="header-small">
    <a href="http://localhost:4000">Hyerin Blog</a>
  </div>
</header>
<div class="post">
  <div class="post-title">클래스와 메서드의 정보를 확인할 수 있는 API</div>
  <br />
  <span class="post-date">
    <time>07 Jun 2020</time>
  </span>

  <div class="post-tag">
    <ul>
      
      <li>
        <a href="http://localhost:4000/tags#java">
          <span>java</span>
        </a>
      </li>
      
      
    </ul>
  </div>

  <h1 id="클래스-정보-어떻게-알아낼-수-있나">클래스 정보, 어떻게 알아낼 수 있나?</h1>
<p>자바에는 클래스와 메서드의 정보를 확인할 수 있는 API가 있다.   <br />
<br /></p>

<h3 id="reflection-관련-클래스들">reflection 관련 클래스들</h3>
<p>자바 API에는 reflection 이라는 패키지가 있다.  <br />
이 패키지에 있는 클래스들을 사용하면 JVM에 로딩되어 있는 클래스와 메서드 정보를 읽어 올 수 있다.</p>

<p><br /></p>

<h3 id="class-클래스">Class 클래스</h3>
<p>Class 클래스는 클래스에 대한 정보를 얻을 때 사용하기 좋고, 생성자는 따로 없다. <br />
ClassLoader 클래스의 defineClass() 메서드를 이용해서 클래스 객체를 만들 수도 있지만, 좋은 방법은 아니다.   <br />
그보다는 Object 클래스에 있는 getClass() 메서드를 사용하는 것이 일반적이다.</p>

<p><br /></p>

<h3 id="method-클래스">Method 클래스</h3>
<p>Method 클래스를 사용하면 메서드에 대한 정보를 얻을 수 있다. <br />
하지만 Method 클래스에는 생성자가 없으므로 Method 클래스의 정보를 얻기 위해서 <br />
Class 클래스의 getMethod() 메서드를 사용하거나 getDeclaredMethod() 메서드를 써야 한다.</p>

<p><br /></p>

<h3 id="field-클래스">Field 클래스</h3>
<p>Field 클래스는 클래스에 있는 변수들의 정보를 제공하기 위해서 사용한다.  <br />
Method 클래스와 마찬가지로 생성자가 존재하지 않으므로 Class 클래스와 함께 사용해야 한다.</p>

<p><br /></p>

<h3 id="reflection-클래스를-잘못-사용한-사례">reflection 클래스를 잘못 사용한 사례</h3>
<p>일반적으로 로그를 프린트할 때 클래스 이름을 알아내기 위해 다음과 같은 Class 클래스를 많이 사용한다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="o">.</span><span class="na">getClass</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span>       
</code></pre></div></div>

<p>이 방법은 getClass() 메서드를 호출할 때 Class 객체를 만들고,         <br />
그 객체의 이름을 가져오는 메서드를 수행하는 시간과 메모리를 사용할 뿐이다.</p>

<p>응답 속도에 그리 많은 영향을 주지는 않지만, 많이 사용하면 필요 없는 시간을 낭비하게 된다.</p>

<p><br /></p>

<h3 id="정리">정리</h3>

<p>reflection 관련 클래스를 사용하면 클래스의 정보 및 여러 가지 세부 정보를 알 수 있어 매우 편리하다. <br />
하지만 로그에서 사용하기 위해서라면, instanceof를 사용하는 것이 클래스의 이름으로 해당 객체의 타입을 비교하는 방법보다 낫다.</p>

<p>추가적으로 클래스의 메타 데이터 정보는 JVM의 Perm 영역에 저장된다.          <br />
만약 Class 클래스를 사용하여 엄청나게 많은 클래스를 동적으로 생산하는 일이 벌어지면        <br />
Perm 영역이 더 이상 사용할 수 없게 되어 OutOfMemoryError가 발생할 수도 있어 조심해야 한다.</p>


  <br />

  <hr />

  <br />
  <script src="https://utteranc.es/client.js"
        repo="hyerin6/hyerin6.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>

</div>


    <!-- Documents about icons are here: http://fontawesome.io/icons/ -->
<div class="footer">
  <hr />

  <div class="footer-link">
    
    <a href="https://github.com/hyerin6"><i class="fa fa-github" aria-hidden="true"></i></a>
    
	
    
    <a href="mailto:hyerinn6@gmail.com"><i class="fa fa-envelope" aria-hidden="true"></i></a>
    
  </div>
  © 2022 Hyerin. All rights reserved.
</div>

<br />
<div class="footer">
    <a style="text-align: center;" href="https://hits.seeyoufarm.com">
      <img style="text-align: center;" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fhyerin6.github.io&count_bg=%23010101&title_bg=%23070707&icon=&icon_color=%23E7E7E7&title=visitors&edge_flat=false"/>
    </a>
</div>
  </div>
</body>
</html>
