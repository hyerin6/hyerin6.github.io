---
layout: post
title: "Spring IoC & DI"  
description: " "
date: 2020-01-31
tags: [spring]
comments: true
share: true
---

제어의 역전/의존성 주입   

---

### 스프링 IoC의 용어 정리    
- 빈(bean)  
빈 또는 빈 오브젝트는 스프링이 IoC 방식으로 관리하는 오브젝트라는 뜻이다. 관리되는 오브젝트라고 부르기도 한다.    
스프링을 사용하는 애플리케이션에서 만들어지는 모든 오브젝트가 다 빈은 아니다.    
그중에서 스프링이 직접 생성과 제어를 담당하는 오브젝트만을 빈이라고 부른다.   

- 빈 팩토리(bean factory)  
스프링의 IoC를 담당하는 핵심 컨테이너를 가리킨다. 빈을 등록, 생성, 조회, 돌려주는 등의 부가적인 빈을 관리하는 기능을 담당한다.   
보통은 이 빈 팩토리를 바로 사용하지 않고 이를 확장한 애플리케이션 컨텍스트를 이용한다.   
BeanFactory라고 붙여쓰면 빈 팩토리가 구현하고 있는 가장 기본적인 인터페이스의 이름이 된다. 이 인터페이스에 getBean()과 같은 메소드가 정의되어 있다.   

- 애플리케이션 컨텍스트(application context)  
빈 팩토리를 확장한 IoC 컨테이너이다. 빈을 등록하고 관리하는 기본적인 기능은 빈 팩토리와 동일하다.   
ApplicationContext라고 적으면 애플리케이션 컨텍스트가 구현해야 하는 기본 인터페이스를 가리키는 것이다.   
ApplicationContext는 BeanFactory를 상속한다.   

- 설정정보/설정 메타정보(configuration metadata)   
스프링의 설정정보란 애플리케이션 컨텍스트 또는 빈 팩토리가 IoC를 적용하기 위해 사용하는 메타정보를 말한다.   
설정정보는 보통 IoC 컨테이너에 의해 관리되는 애플리케이션 오브젝트를 생성하고 구성할 때 사용된다.   

- 컨테이너 또는 IoC 컨테이너   
IoC 방식으로 빈을 관리한다는 의미에서 애플리케이션 컨텍스트나 빈 팩토리를 컨테이너 또는 IoC 컨테이너라고도 한다.   

- 스프링 프레임워크   
스프링 프레임워크는 IoC 컨테이너, 애플리케이션 컨텍스트를 포함해서 스프링이 제공하는 모든 기능을 통틀어 말할 때 주로 사용한다.    
그냥 스프링이라고 줄여서 말하기도 한다.       

### 프로그래밍에서 의존성이란?   
스프링의 IoC(Inversion of Control / 제어의 역전)라고도 하는 DI(Dependency Injection / 의존성 주입)을 알아보기 전에   
자바에서의 의존성이 무엇인지도 알아보자.   

```new Car();```  
Car 객체 생성자에서 ```new Tire();```     
의존성을 단순하게 정의해서 new라고 하자.      
new를 실행하는 Car와 Tire사이에서 Car가 Tire에 의존한다.      

결론적으로 전체가 부분에 의존한다고 할 수 있다. 
의존하는 객체(전체)와 의존되는 객체(부분) 사이에 집합 관계와 구성 관계로 구분할 수도 있다.   
일단 전체가 부분에 의존한다는 것과 프로그래밍에서 의존 관계는 new로 표현된다는 것만 기억하자!
> 집합 관계 : 부분이 전체와 다른 생명 주기를 가질 수 있다. 예) 집 vs. 냉장고   
> 구성 관계 : 부분은 전체와 같은 생명 주기를 갖는다. 예) 사람 vs. 심장   

(1) 스프링 없이 의존성 주입하기 1 - 생성자를 통한 의존성 주입    
(2) 스프링 없이 의존성 주입하기 2 - 속성을 통한 의존성 주입    
(3) 스프링을 통한 의존성 주입 1 - XML 파일 사용    
(4) 스프링을 통한 의존성 주입 2 - 스프링 설정 파일(XML)에서 속성 주입    
(5) 스프링을 통한 의존성 주입 3 - ```@Autowired```를 통한 속성 주입    
(6) 스프링을 통한 의존성 주입 4 - ```@Resource```를 통한 속성 주입        

